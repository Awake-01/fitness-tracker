<html lang="zh-CN"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>健身记录工具</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/dataRecord.css">
    <link rel="icon" type="image/png" sizes="32x32" href="./favicon.png">
</head>
<body>
    <div class="container">
        <nav class="nav nav-primary">
            <button class="nav-btn" data-page="history">历史训练记录</button>
            <button class="nav-btn active" data-page="realtime">实时训练记录</button>
        </nav>
        <nav class="nav nav-secondary">
            <button class="nav-btn" onclick="window.location.href='pages/dataManagement.html'">数据管理</button>
            <button class="nav-btn" data-page="plans">训练计划</button>
        </nav>
        <nav class="nav nav-tertiary">
            <button class="nav-btn" data-page="body">身材记录</button>
            <button class="nav-btn" data-page="profile">个人档案</button>
            <button class="nav-btn" data-page="dietary">饮食记录</button>
        </nav>

        <!-- 历史训练记录页面 -->
        <div id="history-page" class="page hidden">
            <div class="filter-section">
                <h2>历史训练记录</h2>
                <div class="filter-controls">
                    <select id="week-filter">
                        <option value="all">全部时间</option>
                        <option value="this-week">本周</option>
                        <option value="last-week">上周</option>
                    </select>
                    <input type="date" id="date-filter">
                    <button id="apply-filter">应用筛选</button>
                    <div class="data-buttons">
                        <button id="export-data" class="data-btn">导出数据</button>
                        <button id="import-data" class="data-btn">导入数据</button>
                    </div>
                    <input type="file" id="file-input" accept=".json" style="display: none;">
                </div>
            </div>
            <div class="history-list" id="history-list">
                <!-- 历史记录将在这里动态生成 -->
                <p class="no-data">暂无历史训练记录</p>
            </div>
        </div>

        <!-- 实时训练记录页面 -->
        <div id="realtime-page" class="page">
            <div class="today-info">
                <div class="today-header">
                    <h2>今日训练</h2>
                    <p id="plan-name">默认计划</p>
                </div>
                <span id="current-day" style="font-size: 24px; text-align: left; font-weight: bold; line-height: 20px;"></span>
            </div>
            <div class="training-content" id="training-content">
                <!-- 训练内容将在这里动态生成 -->
                <p class="no-data">今天没有安排训练</p>
            </div>
        </div>

        <!-- 训练计划页面 -->
        <div id="plans-page" class="page hidden">
            <h2>训练计划</h2>
            <div class="plans-list" id="plans-list">
                <!-- 计划列表将在这里动态生成 -->
                <div class="no-plans">
                    <p>您还没有创建任何训练计划</p>
                    <button id="create-first-plan">创建第一个计划</button>
                </div>
            </div>
            <div class="create-plan">
                <h3>创建新计划</h3>
                <input type="text" id="plan-name-input" placeholder="输入计划名称">
                <button id="create-plan-btn">创建计划</button>
            </div>
            <!-- 计划详情展示区域 -->
            <div id="plan-details" class="plan-details hidden">
                <h3>计划详情</h3>
                <div id="plan-details-content">
                    <!-- 计划详情将在这里动态生成 -->
                </div>
            </div>
        </div>
    </div>

    <!-- 组训练完成弹窗 -->
    <div id="update-weight-modal" class="modal hidden">
        <div class="modal-content">
            <h3>完成训练</h3>
            <p id="exercise-info"></p>
            <div class="input-group">
                <label for="weight-input">数值 (<span id="weight-unit">kg</span>)</label>
                <input type="number" id="weight-input" min="0" step="0.5">
            </div>
            <div class="modal-actions">
                <button id="cancel-update">取消</button>
                <button id="confirm-update">确认</button>
            </div>
        </div>
    </div>

    <script src="js/main.js"></script>

    <!-- 身材记录页面 -->
    <div id="body-page" class="page hidden">
        <div class="body-record-container record-container">
            <h2>身材记录</h2>
            <div class="record-btn-container">
                <button id="record-body-btn" class="record-btn" style="font-size: 20px;">记录</button>
            </div>
            <div class="body-records-list records-list" id="body-records-list">
                <!-- 身材记录将在这里动态生成 -->
                <p class="no-data">暂无身材记录</p>
            </div>
        </div>
    </div>

    <!-- 身材数据记录弹窗 -->
    <div id="body-record-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>记录身材数据</h3>
                <span class="close" id="close-body-modal">×</span>
            </div>
            <div class="modal-body">

                <div class="input-group">
                    <label for="weight" style="text-align: left;">体重 (kg):</label>
                    <input type="number" id="weight" placeholder="请输入体重" min="30" max="200">
                </div>
                <div class="input-group chest-input-group collapsed" id="chest-main-group">
                    <label for="chest">胸围 (cm)</label>
                    <input type="number" id="chest" placeholder="请输入胸围" min="60" max="150">
                </div>
                <div class="split-chest-input" id="chest-details-group">
                    <div class="input-group">
                        <label for="upper-chest" style="text-align: left;">上胸围 (cm):</label>
                        <input type="number" id="upper-chest" placeholder="请输入上胸围" min="60" max="150">
                    </div>
                    <div class="input-group">
                        <label for="lower-chest" style="text-align: left;">下胸围 (cm):</label>
                        <input type="number" id="lower-chest" placeholder="请输入下胸围" min="60" max="150">
                    </div>
                </div>
                <div class="input-group">
                    <label for="waist" style="text-align: left;">腰围 (cm):</label>
                    <input type="number" id="waist" placeholder="请输入腰围" min="40" max="120">
                </div>
                <div class="input-group">
                    <label for="hip" style="text-align: left;">臀围 (cm):</label>
                    <input type="number" id="hip" placeholder="请输入臀围" min="60" max="150">
                </div>
            </div>
            <div class="modal-footer">
                <button id="cancel-body-record" class="btn btn-cancel">取消</button>
                <button id="confirm-body-record" class="btn btn-confirm">确认</button>
            </div>
        </div>
    </div>

    <!-- 身材数据编辑弹窗 -->
    <div id="body-edit-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>编辑身材数据</h3>
                <span class="close" id="close-body-edit-modal">×</span>
            </div>
            <div class="modal-body">

                <div class="input-group">
                    <label for="edit-weight" style="text-align: left;">体重 (kg):</label>
                    <input type="number" id="edit-weight" placeholder="请输入体重" min="30" max="200">
                </div>
                <div class="input-group chest-input-group collapsed" id="edit-chest-main-group">
                    <label for="edit-chest">胸围 (cm)</label>
                    <input type="number" id="edit-chest" placeholder="请输入胸围" min="60" max="150">
                </div>
                <div class="split-chest-input" id="edit-chest-details-group">
                    <div class="input-group">
                        <label for="edit-upper-chest" style="text-align: left;">上胸围 (cm):</label>
                        <input type="number" id="edit-upper-chest" placeholder="请输入上胸围" min="60" max="150">
                    </div>
                    <div class="input-group">
                        <label for="edit-lower-chest" style="text-align: left;">下胸围 (cm):</label>
                        <input type="number" id="edit-lower-chest" placeholder="请输入下胸围" min="60" max="150">
                    </div>
                </div>
                <div class="input-group">
                    <label for="edit-waist" style="text-align: left;">腰围 (cm):</label>
                    <input type="number" id="edit-waist" placeholder="请输入腰围" min="40" max="120">
                </div>
                <div class="input-group">
                    <label for="edit-hip" style="text-align: left;">臀围 (cm):</label>
                    <input type="number" id="edit-hip" placeholder="请输入臀围" min="60" max="150">
                </div>
            </div>
            <div class="modal-footer">
                <button id="cancel-body-edit" class="btn btn-cancel">取消</button>
                <button id="confirm-body-edit" class="btn btn-confirm">确认</button>
            </div>
        </div>
    </div>

    <script src="js/bodyRecord.js"></script>

    <!-- 个人档案页面 -->
    <div id="profile-page" class="page hidden">
        <div class="profile-container record-container">
            <h2>个人档案</h2>
            <div class="profile-info">
                <div class="profile-section">
                    <h3>基本信息</h3>
                    <div class="profile-fields">
                        <div class="profile-field">
                            <label>性别：</label>
                            <span id="profile-gender">未设置</span>
                        </div>
                        <div class="profile-field">
                            <label>年龄：</label>
                            <span id="profile-age">--</span>
                        </div>

                    </div>
                </div>
                <div class="profile-section">
                    <h3>身体数据</h3>
                    <div class="profile-fields">
                        <div class="profile-field">
                            <label>身高：</label>
                            <span id="profile-height">--</span>
                            <button id="edit-height-btn" class="edit-small-btn" title="编辑身高">✏️</button>
                        </div>
                        <div class="profile-field">
                            <label>体重：</label>
                            <span id="profile-weight">--</span>
                        </div>
                        <div class="profile-field">
                            <label>胸围：</label>
                            <span id="profile-chest">--</span>
                        </div>
                        <div class="profile-field">
                            <label>腰围：</label>
                            <span id="profile-waist">--</span>
                        </div>
                        <div class="profile-field">
                            <label>臀围：</label>
                            <span id="profile-hip">--</span>
                        </div>
                    </div>
                </div>

                <!-- 健康计算卡片 -->
                <div class="profile-section">
                    <h3>健康指数</h3>
                    <div class="calculation-cards profile-calculation-cards">
                        <!-- BMI计算卡片 -->
                        <div class="calculation-card" id="bmi-card">
                            <div class="card-header">
                                <h3>BMI 指数</h3>
                                <span class="card-subtitle">身体质量</span>
                            </div>
                            <div class="card-body">
                                <div class="value-display">
                                    <span class="value-number" id="bmi-value">--</span>
                                    <span class="value-unit">kg/m²</span>
                                </div>
                                <div class="status-display">
                                    <span class="status-text" id="bmi-status">请完善个人信息</span>
                                </div>
                                <div class="standard-info">
                                    <div class="standard-item">
                                        <span class="standard-range">&lt; 18.5</span>
                                        <span class="standard-label">偏低</span>
                                    </div>
                                    <div class="standard-item">
                                        <span class="standard-range">18.5 - 23.9</span>
                                        <span class="standard-label">正常</span>
                                    </div>
                                    <div class="standard-item">
                                        <span class="standard-range">24.0 - 27.9</span>
                                        <span class="standard-label">超重</span>
                                    </div>
                                    <div class="standard-item">
                                        <span class="standard-range">≥ 28.0</span>
                                        <span class="standard-label">肥胖</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- BMR计算卡片 -->
                        <div class="calculation-card" id="bmr-card">
                            <div class="card-header">
                                <h3>BMR 指数</h3>
                                <span class="card-subtitle">基础代谢</span>
                            </div>
                            <div class="card-body">
                                <div class="value-display">
                                    <span class="value-number" id="bmr-value">--</span>
                                    <span class="value-unit">kcal/天</span>
                                </div>
                                <div class="status-display">
                                    <span class="status-text" id="bmr-status">请完善个人信息</span>
                                </div>
                                <div class="standard-info">
                                    <p class="bmr-description">基础代谢率是指人体在安静状态下消耗的最低能量</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 个人档案初始化弹窗 -->
    <div id="profile-init-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>完善个人信息</h3>
                <span class="close" id="close-profile-init-modal">×</span>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <label>性别：</label>
                    <div class="gender-options">
                        <label class="gender-option">
                            <input type="radio" name="gender" value="男" checked="">
                            <span class="gender-label">男</span>
                        </label>
                        <label class="gender-option">
                            <input type="radio" name="gender" value="女">
                            <span class="gender-label">女</span>
                        </label>
                    </div>
                </div>
                <div class="input-group">
                    <label for="birthdate">出生年月：</label>
                    <input type="date" id="birthdate" max="">
                </div>
            </div>
            <div class="modal-footer">
                <button id="confirm-profile-init" class="btn btn-confirm">确认</button>
            </div>
        </div>
    </div>

    <!-- 身高编辑弹窗 -->
    <div id="edit-height-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>编辑身高</h3>
                <span class="close" id="close-edit-height-modal">×</span>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <label for="edit-height-input">身高 (cm)：</label>
                    <input type="number" id="edit-height-input" placeholder="请输入身高" min="100" max="250" step="0.1">
                </div>
            </div>
            <div class="modal-footer">
                <button id="cancel-edit-height" class="btn btn-cancel">取消</button>
                <button id="confirm-edit-height" class="btn btn-confirm">确认</button>
            </div>
        </div>
    </div>

    <script src="js/profile.js"></script>

    <!-- 饮食记录页面 -->
    <div id="dietary-page" class="page hidden">
        <div class="dietary-record-container record-container">
            <h2>饮食记录</h2>
            <div class="record-btn-container">
                <button id="record-dietary-btn" class="record-btn" style="font-size: 20px;">记录</button>
            </div>
            
            <!-- 今日热量统计 -->
            <div class="today-calories-section">
                <div class="today-calories-card">
                    <h4>今日热量统计</h4>
                    <div class="today-calories-display">
                        <span class="today-calories-number" id="today-calories-number">0</span>
                        <span class="today-calories-unit">kcal</span>
                    </div>
                    <div class="today-calories-info">
                        <span class="today-calories-text">当前记录的今日总热量</span>
                    </div>
                </div>
            </div>
            
            <!-- 三餐记录展示区 -->
            <div class="dietary-records-section">
                <h3>详细饮食记录</h3>
                <div class="dietary-records-list records-list" id="dietary-records-list">
                    <!-- 饮食记录将在这里动态生成 -->
                    <p class="no-data">暂无饮食记录</p>
                </div>
            </div>
        </div>
    </div>

    <!-- 饮食信息记录弹窗 -->
    <div id="dietary-record-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>记录饮食信息</h3>
                <span class="close" id="close-dietary-modal">×</span>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <label>时段选择 *:</label>
                    <div class="meal-time-options">
                        <label class="meal-option">
                            <input type="radio" name="meal-time" value="早餐">
                            <span class="meal-label">早餐</span>
                        </label>
                        <label class="meal-option">
                            <input type="radio" name="meal-time" value="午餐">
                            <span class="meal-label">午餐</span>
                        </label>
                        <label class="meal-option">
                            <input type="radio" name="meal-time" value="晚餐">
                            <span class="meal-label">晚餐</span>
                        </label>
                        <label class="meal-option">
                            <input type="radio" name="meal-time" value="加餐">
                            <span class="meal-label">加餐</span>
                        </label>
                    </div>
                </div>
                <div class="input-group">
                    <label for="food-description">食物描述:</label>
                    <textarea id="food-description" placeholder="请输入食物描述（可选）" rows="3"></textarea>
                </div>
                <div class="input-group">
                    <label for="calories">热量估算 (kcal):</label>
                    <input type="number" id="calories" placeholder="请输入热量估算（可选）" min="0" step="1">
                </div>
            </div>
            <div class="modal-footer">
                <button id="cancel-dietary-record" class="btn btn-cancel">取消</button>
                <button id="confirm-dietary-record" class="btn btn-confirm">确认</button>
            </div>
        </div>
    </div>

    <!-- 饮食信息编辑弹窗 -->
    <div id="dietary-edit-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>编辑饮食信息</h3>
                <span class="close" id="close-dietary-edit-modal">×</span>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <label>时段选择 *:</label>
                    <div class="meal-time-options">
                        <label class="meal-option">
                            <input type="radio" name="edit-meal-time" value="早餐">
                            <span class="meal-label">早餐</span>
                        </label>
                        <label class="meal-option">
                            <input type="radio" name="edit-meal-time" value="午餐">
                            <span class="meal-label">午餐</span>
                        </label>
                        <label class="meal-option">
                            <input type="radio" name="edit-meal-time" value="晚餐">
                            <span class="meal-label">晚餐</span>
                        </label>
                        <label class="meal-option">
                            <input type="radio" name="edit-meal-time" value="加餐">
                            <span class="meal-label">加餐</span>
                        </label>
                    </div>
                </div>
                <div class="input-group">
                    <label for="edit-food-description">食物描述:</label>
                    <textarea id="edit-food-description" placeholder="请输入食物描述（可选）" rows="3"></textarea>
                </div>
                <div class="input-group">
                    <label for="edit-calories">热量估算 (kcal):</label>
                    <input type="number" id="edit-calories" placeholder="请输入热量估算（可选）" min="0" step="1">
                </div>
            </div>
            <div class="modal-footer">
                <button id="cancel-dietary-edit" class="btn btn-cancel">取消</button>
                <button id="confirm-dietary-edit" class="btn btn-confirm">确认</button>
            </div>
        </div>
    </div>

    <script src="js/dietaryRecord.js"></script>

</body>
</html>
